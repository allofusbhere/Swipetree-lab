/* SwipeTree Labs â€” iPad-safe UI with dual-path anchor + SoftEdit overlay */
html, body {
  height:100%; margin:0; overscroll-behavior:none;
  -webkit-touch-callout:none; -webkit-user-select:none; user-select:none;
}
body { background:#0b0c10; color:#e6edf3; font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; }

.labBanner{ position:sticky; top:0; z-index:20; background:#2c3342; color:#cbd5e1; padding:.4rem .75rem; font-size:.9rem; border-bottom:1px solid #3a4357;}
.labBanner span{ opacity:.9; }

.app{ display:grid; grid-template-rows:auto 1fr auto; min-height:100vh; }
.topbar{ display:grid; grid-template-columns:1fr auto 1fr; gap:.75rem; align-items:center; padding:.5rem .75rem; background:#111317; border-bottom:1px solid #1e2228; position:sticky; top:0; z-index:10;}
.topbar .right{ display:flex; justify-content:flex-end; gap:.5rem; }
#startForm{ display:flex; gap:.5rem; }
#startId{ background:#0f1115; color:#e6edf3; border:1px solid #283040; border-radius:.5rem; padding:.4rem .6rem; width:12ch; }
.btn{ background:#2b6cb0; color:#fff; border:none; border-radius:.6rem; padding:.45rem .75rem; cursor:pointer; }
.btnGhost{ background:#202738; }
.link{ color:#8ab4ff; text-decoration:underline; }
.hidden{ display:none !important; }

.stage{ position:relative; display:grid; place-items:center; width:100%; height:100%; overflow:hidden; touch-action:none; -ms-touch-action:none; }
.anchor{
  width: 92vw; max-width: 760px;
  height: 72vh; max-height: 720px;
  background-color:#0b0c10;
  background-position:center center; background-repeat:no-repeat; background-size:contain;
  border-radius:1rem; box-shadow:0 8px 30px rgba(0,0,0,.35);
}
.ghostImg{
  position:absolute; left:-9999px; top:-9999px; width:1px; height:1px; opacity:0;
  pointer-events:none; -webkit-user-drag:none; user-drag:none;
}

.grid{ position:absolute; inset:0; background:#0b0c10; padding:1rem; display:grid;
       grid-template-columns:repeat(auto-fill, minmax(160px, 1fr)); gap:1rem; overflow:auto; }

.card{ background:#151922; border:1px solid #243047; border-radius:1rem; padding:.5rem; display:grid; gap:.4rem; place-items:center; box-shadow:0 8px 24px rgba(0,0,0,.35); }
.face{ width:100%; aspect-ratio:1/1; background-position:center center; background-repeat:no-repeat; background-size:contain; border-radius:.75rem; }
.cardLabel{ font-size:.85rem; color:#aab4c2; text-align:center; }

/* Parents grid: large, 2-up, centered */
.grid.parents{
  grid-template-columns: repeat(2, minmax(280px, 1fr));
  justify-items:center; align-items:start;
}
.grid.parents .card{
  width: clamp(260px, 40vw, 420px);
}
@media (max-width: 700px){
  .grid.parents{ grid-template-columns: 1fr; }
  .grid.parents .card{ width: min(88vw, 460px); }
}

/* SoftEdit overlay */
.editor{
  position:absolute; inset:0; background:rgba(0,0,0,.55);
  display:grid; place-items:center; z-index:50;
}
.panel{
  width:min(92vw, 560px); background:#0f1115; border:1px solid #273043; border-radius:1rem;
  box-shadow:0 12px 40px rgba(0,0,0,.5); padding:1rem;
}
.panelHead{ display:flex; align-items:center; justify-content:space-between; margin-bottom:.5rem; }
#edTitle{ font-weight:600; }
.panelBody{ display:grid; gap:.5rem; }
.row{ display:flex; gap:.5rem; align-items:center; }
.row .k{ width:5rem; color:#9aa8ba; }
.row.note{ color:#9aa8ba; font-size:.9rem; }
.panelFoot{ display:flex; justify-content:flex-end; margin-top:.75rem; }

.hint{ text-align:center; padding:.6rem; color:#98a6b3; font-size:.9rem; background:#0f1115; border-top:1px solid #1e2228; }
.label{ padding:.2rem .5rem; background:#202738; border:1px solid #2a3752; border-radius:.5rem; color:#cbd5e1; }
.sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0; }